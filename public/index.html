<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fake APK Detector</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <style>
    /* Same CSS from previous code (skip for brevity) */
    body { font-family: "Poppins", sans-serif; background: #0f172a; color: white; }
    header { display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border-radius:12px;}
    .logo{font-weight:bold;color:#38bdf8;}
    nav a{margin:0 10px;text-decoration:none;color:white;}
    nav button{background:#38bdf8;border:none;padding:6px 15px;border-radius:20px;cursor:pointer;}
    #profile{margin-top:15px;padding:15px;border-radius:10px;background:rgba(255,255,255,0.1);display:none;}
    #profile img{border-radius:50%;width:60px;height:60px;}
  </style>
</head>
<body>
  <header>
    <div class="logo">üîç APK Detector</div>
    <nav>
      <a href="#">Home</a>
      <a href="#">Scan</a>
      <button onclick="login()">Login</button>
      <button onclick="logout()" style="display:none;" id="logoutBtn">Logout</button>
    </nav>
  </header>

  <main>
    <h1>Detect Fake Banking APKs</h1>
    <p>Upload your APK to analyze & detect fraud risk.</p>

    <!-- Profile Section -->
    <div id="profile">
      <img id="userPhoto" src="" alt="profile"/>
      <h3 id="userName"></h3>
      <p id="userEmail"></p>
    </div>

    <div class="upload-section">
      <input type="file" id="apkFile" accept=".apk" />
      <button onclick="checkApk()">Check APK</button>
    </div>

    <div class="loader" id="loader"></div>
    <div id="result"></div>
  </main>

  <script>
    // Firebase Config (apna khud ka config lagana hoga)
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Login with Google
    function login(){
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .then(result=>{
          const user = result.user;
          document.getElementById("userName").innerText = user.displayName;
          document.getElementById("userEmail").innerText = user.email;
          document.getElementById("userPhoto").src = user.photoURL;
          document.getElementById("profile").style.display="block";
          document.querySelector("button[onclick='login()']").style.display="none";
          document.getElementById("logoutBtn").style.display="inline-block";
        })
        .catch(error=>alert(error.message));
    }

    // Logout
    function logout(){
      auth.signOut().then(()=>{
        document.getElementById("profile").style.display="none";
        document.querySelector("button[onclick='login()']").style.display="inline-block";
        document.getElementById("logoutBtn").style.display="none";
      });
    }

    // APK Check Simulation (same as before)
    function checkApk() {
      const fileInput = document.getElementById("apkFile");
      const loader = document.getElementById("loader");
      const resultBox = document.getElementById("result");

      if (!fileInput.files.length) {
        alert("‚ö†Ô∏è Please select an APK file first!");
        return;
      }

      const file = fileInput.files[0];

      loader.style.display = "block";
      resultBox.style.display = "none";

      setTimeout(() => {
        loader.style.display = "none";

        const confidence = Math.floor(Math.random() * 100);
        let status = confidence > 70 ? "‚ö†Ô∏è Suspicious APK detected!" : "‚úÖ Safe APK (Low Risk)";
        let color = confidence > 70 ? "#f87171" : "#34d399";

        resultBox.style.display = "block";
        resultBox.style.background = "rgba(255,255,255,0.1)";
        resultBox.innerHTML = `
          <h2 style="color:${color};">${status}</h2>
          <p><b>File:</b> ${file.name} (${(file.size/1024).toFixed(2)} KB)</p>
          <div class="progress">
            <div class="progress-bar" style="background:${color}; width:${confidence}%;">
              ${confidence}%
            </div>
          </div>
        `;
      }, 2000);
    }
  </script>
</body>
</html>
